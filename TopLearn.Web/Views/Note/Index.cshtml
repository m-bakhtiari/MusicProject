@model List<TopLearn.DataLayer.Entities.Course.MusicNote>

<section class="list" data-scroll-section>


    <div class="container-fluid">
        <div class="swiper">
            <div class="swiper-wrapper" dir="rtl">
                @foreach (var item in Model)
                {
                    <div class="swiper-slide swiper-slide-active">
                        <img src="SiteTemplate/img/hangdrum-removebg-preview.png" class="imgMain" alt="">
                        <img src="SiteTemplate/img/treble_clef-removebg-preview.png" class="showActive" alt="">
                        <div class="info">
                            <h4 class="name">
                                @item.Title
                            </h4>
                            <span class="type">
                                <a onclick="DownloadFile('@item.FileName')">
                                    دانلود فایل
                                </a>

                            </span>
                        </div>
                    </div>

                }

            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>

            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    </div>


</section>

@section Scripts
{
    <script type="text/javascript">
        function DownloadFile(fileName) {
            //Set the File URL.
            var url = "note/" + fileName;

            $.ajax({
                url: url,
                cache: false,
                xhr: function () {
                    var xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function () {
                        if (xhr.readyState == 2) {
                            if (xhr.status == 200) {
                                xhr.responseType = "blob";
                            } else {
                                xhr.responseType = "text";
                            }
                        }
                    };
                    return xhr;
                },
                success: function (data) {
                    //Convert the Byte Data to BLOB object.
                    var blob = new Blob([data], { type: "application/octetstream" });

                    //Check the Browser type and download the File.
                    var isIE = false || !!document.documentMode;
                    if (isIE) {
                        window.navigator.msSaveBlob(blob, fileName);
                    } else {
                        var url = window.URL || window.webkitURL;
                        link = url.createObjectURL(blob);
                        var a = $("<a />");
                        a.attr("download", fileName);
                        a.attr("href", link);
                        $("body").append(a);
                        a[0].click();
                        $("body").remove(a);
                    }
                }
            });
        };
    </script>

    <script src="SiteTemplate/js/scroll.js"></script>
    <script src="SiteTemplate/js/app.js"></script>
    <script src="SiteTemplate/js/swiper-bundleList.min.js"></script>
    <script>
        var swiper = new Swiper(".swiper", {
            effect: "coverflow",
            grabCursor: true,
            centeredSlides: true,
            slidesPerView: "auto",
            autoplay: {
                delay: 3000
            },
            coverflowEffect: {
                rotate: 0,
                stretch: 0,
                depth: 30,
                modifier: 1,
                slideShadows: false
            },
            spaceBetween: 180,
            loop: true,
            pagination: {
                el: ".swiper-pagination",
                clickable: true
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev"
            }
        });

    </script>
}
